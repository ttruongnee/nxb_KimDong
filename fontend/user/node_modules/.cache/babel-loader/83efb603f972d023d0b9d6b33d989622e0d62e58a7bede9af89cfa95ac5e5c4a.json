{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nconst TruyenTheoTheLoaiData = ({\n  matheloai\n}) => {\n  _s();\n  const [truyens, setTruyens] = useState([]);\n  const [tentheloai, setTenTheLoai] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const [truyensRes, theloaiRes] = await Promise.all([axios.get(\"http://localhost:3001/truyens\"), axios.get(\"http://localhost:3001/theloais\")]);\n        const filtered = truyensRes.data.filter(item => item.matheloai === matheloai);\n        setTruyens(filtered);\n        const theloai = theloaiRes.data.find(tl => String(tl.id).trim() === String(matheloai).trim());\n        if (theloai) setTenTheLoai(theloai.tentheloai);\n      } catch (error) {\n        console.error(\"Lỗi khi tải dữ liệu:\", error);\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [matheloai]);\n  return {\n    truyens,\n    tentheloai,\n    loading,\n    error\n  };\n};\n_s(TruyenTheoTheLoaiData, \"rpFqCVzInTn/qrkDN0LBDNiAIQM=\");\n_c = TruyenTheoTheLoaiData;\nexport default TruyenTheoTheLoaiData;\nvar _c;\n$RefreshReg$(_c, \"TruyenTheoTheLoaiData\");","map":{"version":3,"names":["React","useEffect","useState","axios","TruyenTheoTheLoaiData","matheloai","_s","truyens","setTruyens","tentheloai","setTenTheLoai","loading","setLoading","error","setError","fetchData","truyensRes","theloaiRes","Promise","all","get","filtered","data","filter","item","theloai","find","tl","String","id","trim","console","_c","$RefreshReg$"],"sources":["D:/nxb_KimDong/fontend/user/src/component/truyentheotheloai.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst TruyenTheoTheLoaiData = ({ matheloai }) => {\r\n    const [truyens, setTruyens] = useState([]);\r\n    const [tentheloai, setTenTheLoai] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            setLoading(true);\r\n            setError(null);\r\n            try {\r\n                const [truyensRes, theloaiRes] = await Promise.all([\r\n                    axios.get(\"http://localhost:3001/truyens\"),\r\n                    axios.get(\"http://localhost:3001/theloais\")\r\n                ]);\r\n\r\n                const filtered = truyensRes.data.filter(item => item.matheloai === matheloai);\r\n                setTruyens(filtered);\r\n\r\n                const theloai = theloaiRes.data.find(tl => String(tl.id).trim() === String(matheloai).trim());\r\n                if (theloai) setTenTheLoai(theloai.tentheloai);\r\n            } catch (error) {\r\n                console.error(\"Lỗi khi tải dữ liệu:\", error);\r\n                setError(error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [matheloai]);\r\n\r\n    return { truyens, tentheloai, loading, error };\r\n};\r\n\r\nexport default TruyenTheoTheLoaiData;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,qBAAqB,GAAGA,CAAC;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAC7C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACO,UAAU,EAAEC,aAAa,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACZ,MAAMc,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1BH,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACd,IAAI;QACA,MAAM,CAACE,UAAU,EAAEC,UAAU,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC/ChB,KAAK,CAACiB,GAAG,CAAC,+BAA+B,CAAC,EAC1CjB,KAAK,CAACiB,GAAG,CAAC,gCAAgC,CAAC,CAC9C,CAAC;QAEF,MAAMC,QAAQ,GAAGL,UAAU,CAACM,IAAI,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACnB,SAAS,KAAKA,SAAS,CAAC;QAC7EG,UAAU,CAACa,QAAQ,CAAC;QAEpB,MAAMI,OAAO,GAAGR,UAAU,CAACK,IAAI,CAACI,IAAI,CAACC,EAAE,IAAIC,MAAM,CAACD,EAAE,CAACE,EAAE,CAAC,CAACC,IAAI,CAAC,CAAC,KAAKF,MAAM,CAACvB,SAAS,CAAC,CAACyB,IAAI,CAAC,CAAC,CAAC;QAC7F,IAAIL,OAAO,EAAEf,aAAa,CAACe,OAAO,CAAChB,UAAU,CAAC;MAClD,CAAC,CAAC,OAAOI,KAAK,EAAE;QACZkB,OAAO,CAAClB,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5CC,QAAQ,CAACD,KAAK,CAAC;MACnB,CAAC,SAAS;QACND,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDG,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACV,SAAS,CAAC,CAAC;EAEf,OAAO;IAAEE,OAAO;IAAEE,UAAU;IAAEE,OAAO;IAAEE;EAAM,CAAC;AAClD,CAAC;AAACP,EAAA,CAjCIF,qBAAqB;AAAA4B,EAAA,GAArB5B,qBAAqB;AAmC3B,eAAeA,qBAAqB;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}