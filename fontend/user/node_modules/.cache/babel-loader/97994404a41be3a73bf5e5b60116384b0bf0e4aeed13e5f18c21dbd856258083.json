{"ast":null,"code":"var _s = $RefreshSig$();\n// useGioHang.js\nimport { useState, useEffect } from 'react';\nexport const useGioHang = () => {\n  _s();\n  // State (biến lưu trữ trạng thái) cho giỏ hàng, dùng object để dễ tìm sản phẩm bằng ID\n  const [gioHang, setGioHang] = useState({});\n  // State cho danh sách các sản phẩm trong giỏ hàng (dạng mảng để dễ hiển thị)\n  const [danhSachSPTrongGio, setDanhSachSPTrongGio] = useState([]);\n\n  // Hàm useEffect chạy một lần sau khi component được tạo ra lần đầu tiên\n  useEffect(() => {\n    // Lấy dữ liệu giỏ hàng đã lưu từ bộ nhớ của trình duyệt\n    const gioHangDaLuu = localStorage.getItem('GioHang');\n\n    // Kiểm tra xem có dữ liệu giỏ hàng đã lưu hay không\n    if (gioHangDaLuu) {\n      try {\n        // Chuyển đổi chuỗi JSON đã lưu thành đối tượng JavaScript\n        const gioHangParsed = JSON.parse(gioHangDaLuu);\n        // Cập nhật state giỏ hàng với dữ liệu đã lấy\n        setGioHang(gioHangParsed);\n        // Chuyển đổi các giá trị (sản phẩm) từ object giỏ hàng thành một mảng\n        setDanhSachSPTrongGio(Object.values(gioHangParsed));\n      } catch (error) {\n        // Nếu có lỗi khi xử lý dữ liệu đã lưu, in ra lỗi và đặt giỏ hàng về trạng thái rỗng\n        console.error('Lỗi xử lý giỏ hàng đã lưu:', error);\n        setGioHang({});\n        setDanhSachSPTrongGio([]);\n      }\n    } else {\n      // Nếu không có dữ liệu giỏ hàng đã lưu, khởi tạo giỏ hàng là rỗng\n      setGioHang({});\n      setDanhSachSPTrongGio([]);\n    }\n  }, []); // Mảng rỗng [] nghĩa là useEffect này chỉ chạy một lần\n\n  // Trả về state giỏ hàng và danh sách sản phẩm để component khác dùng\n  return {\n    gioHang,\n    // Object chứa thông tin giỏ hàng (ID sản phẩm là key)\n    danhSachSPTrongGio // Mảng chứa danh sách các sản phẩm trong giỏ hàng\n  };\n};\n_s(useGioHang, \"fimo4e2vAiKGrxsVRYFqUMhT7bA=\");","map":{"version":3,"names":["useState","useEffect","useGioHang","_s","gioHang","setGioHang","danhSachSPTrongGio","setDanhSachSPTrongGio","gioHangDaLuu","localStorage","getItem","gioHangParsed","JSON","parse","Object","values","error","console"],"sources":["D:/nxb_KimDong/fontend/user/src/component/payment/useGioHang.js"],"sourcesContent":["// useGioHang.js\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport const useGioHang = () => {\r\n    // State (biến lưu trữ trạng thái) cho giỏ hàng, dùng object để dễ tìm sản phẩm bằng ID\r\n    const [gioHang, setGioHang] = useState({});\r\n    // State cho danh sách các sản phẩm trong giỏ hàng (dạng mảng để dễ hiển thị)\r\n    const [danhSachSPTrongGio, setDanhSachSPTrongGio] = useState([]);\r\n\r\n    // Hàm useEffect chạy một lần sau khi component được tạo ra lần đầu tiên\r\n    useEffect(() => {\r\n        // Lấy dữ liệu giỏ hàng đã lưu từ bộ nhớ của trình duyệt\r\n        const gioHangDaLuu = localStorage.getItem('GioHang');\r\n\r\n        // Kiểm tra xem có dữ liệu giỏ hàng đã lưu hay không\r\n        if (gioHangDaLuu) {\r\n            try {\r\n                // Chuyển đổi chuỗi JSON đã lưu thành đối tượng JavaScript\r\n                const gioHangParsed = JSON.parse(gioHangDaLuu);\r\n                // Cập nhật state giỏ hàng với dữ liệu đã lấy\r\n                setGioHang(gioHangParsed);\r\n                // Chuyển đổi các giá trị (sản phẩm) từ object giỏ hàng thành một mảng\r\n                setDanhSachSPTrongGio(Object.values(gioHangParsed));\r\n            } catch (error) {\r\n                // Nếu có lỗi khi xử lý dữ liệu đã lưu, in ra lỗi và đặt giỏ hàng về trạng thái rỗng\r\n                console.error('Lỗi xử lý giỏ hàng đã lưu:', error);\r\n                setGioHang({});\r\n                setDanhSachSPTrongGio([]);\r\n            }\r\n        } else {\r\n            // Nếu không có dữ liệu giỏ hàng đã lưu, khởi tạo giỏ hàng là rỗng\r\n            setGioHang({});\r\n            setDanhSachSPTrongGio([]);\r\n        }\r\n    }, []); // Mảng rỗng [] nghĩa là useEffect này chỉ chạy một lần\r\n\r\n    // Trả về state giỏ hàng và danh sách sản phẩm để component khác dùng\r\n    return {\r\n        gioHang, // Object chứa thông tin giỏ hàng (ID sản phẩm là key)\r\n        danhSachSPTrongGio, // Mảng chứa danh sách các sản phẩm trong giỏ hàng\r\n    };\r\n};"],"mappings":";AAAA;AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B;EACA,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1C;EACA,MAAM,CAACM,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;;EAEhE;EACAC,SAAS,CAAC,MAAM;IACZ;IACA,MAAMO,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;;IAEpD;IACA,IAAIF,YAAY,EAAE;MACd,IAAI;QACA;QACA,MAAMG,aAAa,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAAC;QAC9C;QACAH,UAAU,CAACM,aAAa,CAAC;QACzB;QACAJ,qBAAqB,CAACO,MAAM,CAACC,MAAM,CAACJ,aAAa,CAAC,CAAC;MACvD,CAAC,CAAC,OAAOK,KAAK,EAAE;QACZ;QACAC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;QAClDX,UAAU,CAAC,CAAC,CAAC,CAAC;QACdE,qBAAqB,CAAC,EAAE,CAAC;MAC7B;IACJ,CAAC,MAAM;MACH;MACAF,UAAU,CAAC,CAAC,CAAC,CAAC;MACdE,qBAAqB,CAAC,EAAE,CAAC;IAC7B;EACJ,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER;EACA,OAAO;IACHH,OAAO;IAAE;IACTE,kBAAkB,CAAE;EACxB,CAAC;AACL,CAAC;AAACH,EAAA,CAtCWD,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}