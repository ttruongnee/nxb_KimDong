{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nconst TruyenTheoQuangCaoData = ({\n  maquangcao\n}) => {\n  _s();\n  const [truyens, setTruyens] = useState([]);\n  const [tenquangcao, setTenQuangCao] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const [truyensRes, quangcaoRes] = await Promise.all([axios.get(\"http://localhost:3001/truyens\"), axios.get(\"http://localhost:3001/quangcaos\")]);\n        const filtered = truyensRes.data.filter(item => item.maquangcao === maquangcao);\n        setTruyens(filtered);\n        const quangcao = quangcaoRes.data.find(qc => String(qc.id).trim() === String(maquangcao).trim());\n        if (quangcao) setTenQuangCao(quangcao.tenquangcao);\n      } catch (error) {\n        console.error(\"Lỗi khi tải dữ liệu:\", error);\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [maquangcao]);\n  return {\n    truyens,\n    tenquangcao,\n    loading,\n    error\n  };\n};\n_s(TruyenTheoQuangCaoData, \"SCNH3kBByzdN0Ywah0Fnw9HWWWY=\");\n_c = TruyenTheoQuangCaoData;\nexport default TruyenTheoQuangCaoData;\nvar _c;\n$RefreshReg$(_c, \"TruyenTheoQuangCaoData\");","map":{"version":3,"names":["React","useEffect","useState","axios","TruyenTheoQuangCaoData","maquangcao","_s","truyens","setTruyens","tenquangcao","setTenQuangCao","loading","setLoading","error","setError","fetchData","truyensRes","quangcaoRes","Promise","all","get","filtered","data","filter","item","quangcao","find","qc","String","id","trim","console","_c","$RefreshReg$"],"sources":["D:/nxb_KimDong/fontend/user/src/component/truyentheoquangcao.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst TruyenTheoQuangCaoData = ({ maquangcao }) => {\r\n    const [truyens, setTruyens] = useState([]);\r\n    const [tenquangcao, setTenQuangCao] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            setLoading(true);\r\n            setError(null);\r\n            try {\r\n                const [truyensRes, quangcaoRes] = await Promise.all([\r\n                    axios.get(\"http://localhost:3001/truyens\"),\r\n                    axios.get(\"http://localhost:3001/quangcaos\")\r\n                ]);\r\n\r\n                const filtered = truyensRes.data.filter(item => item.maquangcao === maquangcao);\r\n                setTruyens(filtered);\r\n\r\n                const quangcao = quangcaoRes.data.find(qc => String(qc.id).trim() === String(maquangcao).trim());\r\n                if (quangcao) setTenQuangCao(quangcao.tenquangcao);\r\n            } catch (error) {\r\n                console.error(\"Lỗi khi tải dữ liệu:\", error);\r\n                setError(error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [maquangcao]);\r\n\r\n    return { truyens, tenquangcao, loading, error };\r\n};\r\n\r\nexport default TruyenTheoQuangCaoData;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,sBAAsB,GAAGA,CAAC;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EAC/C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACZ,MAAMc,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1BH,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACd,IAAI;QACA,MAAM,CAACE,UAAU,EAAEC,WAAW,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChDhB,KAAK,CAACiB,GAAG,CAAC,+BAA+B,CAAC,EAC1CjB,KAAK,CAACiB,GAAG,CAAC,iCAAiC,CAAC,CAC/C,CAAC;QAEF,MAAMC,QAAQ,GAAGL,UAAU,CAACM,IAAI,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACnB,UAAU,KAAKA,UAAU,CAAC;QAC/EG,UAAU,CAACa,QAAQ,CAAC;QAEpB,MAAMI,QAAQ,GAAGR,WAAW,CAACK,IAAI,CAACI,IAAI,CAACC,EAAE,IAAIC,MAAM,CAACD,EAAE,CAACE,EAAE,CAAC,CAACC,IAAI,CAAC,CAAC,KAAKF,MAAM,CAACvB,UAAU,CAAC,CAACyB,IAAI,CAAC,CAAC,CAAC;QAChG,IAAIL,QAAQ,EAAEf,cAAc,CAACe,QAAQ,CAAChB,WAAW,CAAC;MACtD,CAAC,CAAC,OAAOI,KAAK,EAAE;QACZkB,OAAO,CAAClB,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5CC,QAAQ,CAACD,KAAK,CAAC;MACnB,CAAC,SAAS;QACND,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDG,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACV,UAAU,CAAC,CAAC;EAEhB,OAAO;IAAEE,OAAO;IAAEE,WAAW;IAAEE,OAAO;IAAEE;EAAM,CAAC;AACnD,CAAC;AAACP,EAAA,CAjCIF,sBAAsB;AAAA4B,EAAA,GAAtB5B,sBAAsB;AAmC5B,eAAeA,sBAAsB;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}